(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(9),s=n.n(i),o=(n(92),n(19)),u=n(155),j=n(152),l=n(75),b=n(151),d=n(37),h=n(11),p=n(20),O=n(31),x=n.n(O),f=n(40),v=n(26),g=n(153),m=n(150),y=n(148),w=n(156),S=n(41),U=n.n(S),k=n(146),z=n(6),L=Object(p.a)(u.a)(r||(r=Object(o.a)(["\n    height: 100%;\n    width: 100%;\n    background-color: grey;\n    opacity: 0.8;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 10;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])));var R,T,F,C,E,P=function(e){var t=e.title;return Object(z.jsxs)(L,{children:[Object(z.jsx)(k.a,{}),Object(z.jsx)(y.a,{variant:"caption",children:t})]})};var _=Object(p.a)(u.a)(R||(R=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),q=p.a.form(T||(T=Object(o.a)(["\n    width: 60%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),B=Object(p.a)(g.a)(F||(F=Object(o.a)(["\n    && {\n        width: 100%;\n        max-width: 400px;\n        margin: 10px;\n    }\n"]))),D=Object(p.a)(m.a)(C||(C=Object(o.a)(["\n    && {\n        margin: 10px;\n    }\n"]))),I=Object(p.a)(y.a)(E||(E=Object(o.a)(["\n    && {\n        font-size: 1rem;\n    }\n"])));var J=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(v.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(""),j=Object(v.a)(u,2),l=j[0],b=j[1],h=Object(a.useState)(!1),p=Object(v.a)(h,2),O=p[0],g=p[1],m=function(){var e=Object(f.a)(x.a.mark((function e(t){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n){e.next=4;break}return b("Required"),e.abrupt("return");case 4:if(c=n,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(c)){e.next=7;break}return b("Please enter a valid URL"),e.abrupt("return");case 7:return l&&b(""),e.prev=8,g(!0),e.next=12,U.a.post("/api/shorten",{originalUrl:n});case 12:r=e.sent,a=r.data,o(a.shortUrl),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),b(e.t0);case 20:return e.prev=20,g(!1),e.finish(20);case 23:case"end":return e.stop()}var c}),e,null,[[8,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(_,{children:[Object(z.jsx)(I,{variant:"overline",children:"Say goodbye to long URLs!"}),Object(z.jsxs)(q,{onSubmit:function(e){return m(e)},children:[Object(z.jsx)(B,{error:l.length>0,helperText:l,label:"Shorten your URL here",onChange:function(e){return r(e.target.value)},value:n}),Object(z.jsx)(D,{color:"primary",type:"submit",variant:"contained",children:"Shorten"})]}),O&&Object(z.jsx)(P,{title:"Attemping to shorten the URL..."}),s&&Object(z.jsxs)(w.a,{severity:"success",children:["This is your shortened URL:"," ",Object(z.jsxs)(d.b,{to:s,children:[window.location.href,s]})]})]})},M=function(e){var t=Object(a.useState)(void 0),n=Object(v.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(v.a)(i,2),o=s[0],u=s[1],j=Object(a.useState)(!0),l=Object(v.a)(j,2),b=l[0],d=l[1],h=function(){var e=Object(f.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.request(t);case 3:n=e.sent,c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(e.t0.message);case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(e)}),[e]),{response:r,error:o,loading:b}};var A,G=function(){var e=Object(h.f)(),t=Object(a.useMemo)((function(){return{method:"GET",url:"/api/shorten?shortUrl=".concat(e.pathname.slice(1))}}),[e]),n=M(t),r=n.response,c=n.error;return r&&r.data&&(r.data.originalUrl.includes("http")?window.location.href="".concat(r.data.originalUrl):window.location.href="https://".concat(r.data.originalUrl)),Object(z.jsxs)(z.Fragment,{children:[!c&&Object(z.jsx)(P,{title:"Taking you to your destination..."}),c&&Object(z.jsx)(w.a,{severity:"error",children:"This short URL does not map to any URL "})]})},$=Object(p.a)(u.a)(A||(A=Object(o.a)(["\n    padding: 30px;\n"]))),H=Object(l.a)({palette:{type:"dark"}});var K=function(){return Object(z.jsxs)(b.a,{theme:H,children:[Object(z.jsx)(j.a,{}),Object(z.jsx)($,{children:Object(z.jsx)(d.a,{children:Object(z.jsxs)(h.c,{children:[Object(z.jsx)(h.a,{component:J,path:"/",exact:!0}),Object(z.jsx)(h.a,{component:G})]})})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(K,{})}),document.getElementById("root")),N()},92:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.504d1adf.chunk.js.map